<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Retrieving Species Occurrence Data and IUCN Red List Status for Protected Areas • redlist</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Montserrat-0.4.10/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Retrieving Species Occurrence Data and IUCN Red List Status for Protected Areas">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">redlist</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home"></span> Home</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-code"></span> Functions</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-ressources" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-blog"></span> Ressources</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-ressources">
<li><a class="dropdown-item" href="../articles/get_data.html">1. Get Data</a></li>
    <li><a class="dropdown-item" href="../articles/data_visualisation.html">2. Data Visualisation</a></li>
    <li><a class="dropdown-item" href="../articles/GBIF-and-IUCN-Red-List.html">3. GBIF and IUCN Red List</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-face-smile"></span> News</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/gallery.html"><span class="fa fa-layer-group"></span> Gallery</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stangandaho/redlist" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.linkedin.com/in/stangandaho/" aria-label="LinkedIn"><span class="fa fa-linkedin"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="GBIF-and-IUCN-Red-List_files/kePrint-0.0.1/kePrint.js"></script><link href="GBIF-and-IUCN-Red-List_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Retrieving Species Occurrence Data and IUCN Red List Status for Protected Areas</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/stangandaho/redlist/blob/main/vignettes/GBIF-and-IUCN-Red-List.Rmd" class="external-link"><code>vignettes/GBIF-and-IUCN-Red-List.Rmd</code></a></small>
      <div class="d-none name"><code>GBIF-and-IUCN-Red-List.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Understanding the conservation status of species within protected
areas is essential for effective biodiversity management and monitoring.
This tutorial demonstrates how to obtain species occurrence records from
the Global Biodiversity Information Facility (GBIF) for a specific
geographic area and retrieve their corresponding IUCN Red List
categories. We use Wari-Maro and Monts Kouffé National Parks in Benin as
a case study, focusing on chordate species recorded since 2000.</p>
<p>The workflow combines spatial filtering of occurrence data with
automated queries to the IUCN Red List API, providing a reproducible
approach for assessing the conservation status of species assemblages in
any protected area.</p>
</div>
<div class="section level2">
<h2 id="setup-and-dependencies">Setup and Dependencies<a class="anchor" aria-label="anchor" href="#setup-and-dependencies"></a>
</h2>
<p>We begin by loading the required packages. The <code>rgbif</code>
package provides access to GBIF data, <code>redlist</code> interfaces
with the IUCN Red List API, and <code>sf</code> handles spatial
operations. The <code>dplyr</code> and <code>ggplot2</code> packages
support data manipulation and visualization respectively.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define required packages</span></span>
<span><span class="va">packages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rgbif"</span>, <span class="st">"redlist"</span>, <span class="st">"sf"</span>, <span class="st">"dplyr"</span>, <span class="st">"ggplot2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install missing packages and load all</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">pkg</span> <span class="kw">in</span> <span class="va">packages</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="va">pkg</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="va">pkg</span>, repos <span class="op">=</span> <span class="st">"https://packagemanager.posit.co/cran/latest"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">pkg</span>, character.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="downloading-occurrence-data-from-gbif">Downloading Occurrence Data from GBIF<a class="anchor" aria-label="anchor" href="#downloading-occurrence-data-from-gbif"></a>
</h2>
<div class="section level3">
<h3 id="setting-download-predicates">Setting Download Predicates<a class="anchor" aria-label="anchor" href="#setting-download-predicates"></a>
</h3>
<p>GBIF allows users to filter occurrence data using predicates, which
define specific criteria for the records to retrieve. For this analysis,
we establish three predicates to ensure data quality and relevance. We
limit records to those from 2000 onwards, restrict the basis of record
to human and machine observations to exclude fossil and preserved
specimens, and require valid geographic coordinates for spatial
analysis.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Temporal filter: records from 2000 onwards</span></span>
<span><span class="va">year_pred</span> <span class="op">&lt;-</span> <span class="fu">pred_gte</span><span class="op">(</span><span class="st">"year"</span>, <span class="fl">2000</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Record type filter: observational data only</span></span>
<span><span class="va">basis_of_record</span> <span class="op">&lt;-</span> <span class="fu">pred_in</span><span class="op">(</span><span class="st">"basisOfRecord"</span>, </span>
<span>                            <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MACHINE_OBSERVATION"</span>, <span class="st">"HUMAN_OBSERVATION"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Spatial quality filter: only georeferenced records</span></span>
<span><span class="va">has_coordinate</span> <span class="op">&lt;-</span> <span class="fu">pred</span><span class="op">(</span><span class="st">"hasCoordinate"</span>, <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="preparing-the-spatial-boundary">Preparing the Spatial Boundary<a class="anchor" aria-label="anchor" href="#preparing-the-spatial-boundary"></a>
</h3>
<p>To restrict occurrence data to our study area, we need to prepare the
park boundary in a format compatible with GBIF’s download API. This
involves several spatial processing steps. First, we import the
shapefile and verify its geometric validity. Since the boundary consists
of multiple polygons representing different park sections, we merge them
into a single polygon using <code>st_union()</code>. To reduce
complexity and file size, we simplify the boundary by retaining vertices
at 200-meter intervals.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Import park boundary shapefile</span></span>
<span><span class="va">wama_moko</span> <span class="op">&lt;-</span> <span class="fu">read_sf</span><span class="op">(</span><span class="st">"wama_moko/wari-maro_monts kouffé.shp"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Verify polygon validity</span></span>
<span><span class="fu">st_is_valid</span><span class="op">(</span><span class="va">wama_moko</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Merge into single polygon and simplify</span></span>
<span><span class="va">wama_moko_single</span> <span class="op">&lt;-</span> <span class="fu">st_union</span><span class="op">(</span><span class="va">wama_moko</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">st_simplify</span><span class="op">(</span>dTolerance <span class="op">=</span> <span class="fl">200</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">st_reverse</span><span class="op">(</span><span class="op">)</span> <span class="co"># flips the polygon vertices to follow counterclockwise</span></span></code></pre></div>
<p>GBIF requires polygon coordinates in geographic (longitude/latitude)
format rather than projected coordinate systems. We check the current
coordinate reference system and transform it to WGS 84 (EPSG:4326), the
standard geographic coordinate system.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check current CRS</span></span>
<span><span class="fu">st_crs</span><span class="op">(</span><span class="va">wama_moko_single</span><span class="op">)</span><span class="op">$</span><span class="va">input</span></span>
<span></span>
<span><span class="co"># Transform to geographic coordinates</span></span>
<span><span class="va">wama_moko_single</span> <span class="op">&lt;-</span> <span class="fu">st_transform</span><span class="op">(</span><span class="va">wama_moko_single</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span></code></pre></div>
<p>Finally, we convert the polygon to Well-Known Text (WKT) format,
which GBIF uses to define spatial predicates.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Convert to WKT format for GBIF</span></span>
<span><span class="va">wama_moko_wkt</span> <span class="op">&lt;-</span> <span class="fu">st_as_text</span><span class="op">(</span><span class="va">wama_moko_single</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create spatial predicate</span></span>
<span><span class="va">wama_moko_pred</span> <span class="op">&lt;-</span> <span class="fu">pred_within</span><span class="op">(</span><span class="va">wama_moko_wkt</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="configuring-gbif-authentication">Configuring GBIF Authentication<a class="anchor" aria-label="anchor" href="#configuring-gbif-authentication"></a>
</h3>
<p>Downloading data from GBIF requires a free user account. You need to
configure your credentials once by adding them to your
<code>.Rprofile</code> file. This approach keeps your authentication
information secure and persistent across R sessions.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Open .Rprofile file</span></span>
<span><span class="fu"><a href="../reference/rl_open_file.html">rl_open_file</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Add these lines to .Rprofile (replace with your actual
credentials):</p>
<pre><code><span><span class="va">gbif_user</span> <span class="op">=</span> <span class="st">"your_username"</span></span>
<span><span class="va">gbif_pwd</span> <span class="op">=</span> <span class="st">"your_password"</span></span>
<span><span class="va">gbif_email</span> <span class="op">=</span> <span class="st">"your_email@example.com"</span></span></code></pre>
<p>Save the file and restart R/RStudio</p>
</div>
<div class="section level3">
<h3 id="submitting-and-retrieving-the-download">Submitting and Retrieving the Download<a class="anchor" aria-label="anchor" href="#submitting-and-retrieving-the-download"></a>
</h3>
<p>With all predicates defined and authentication configured, we submit
the download request to GBIF. The download process is asynchronous,
meaning GBIF processes the request on their servers while you can
continue working. The function returns a download key that you use to
check status and retrieve results.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Submit download request</span></span>
<span><span class="va">wama_moko_occ</span> <span class="op">&lt;-</span> <span class="fu">occ_download</span><span class="op">(</span></span>
<span>  <span class="va">year_pred</span>, </span>
<span>  <span class="va">basis_of_record</span>, </span>
<span>  <span class="va">has_coordinate</span>,</span>
<span>  <span class="va">wama_moko_pred</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"SIMPLE_CSV"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Monitor the download status using the download key provided in the
output. Once complete, retrieve and import the data into R.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Replace with your actual download key from, wama_moko_occ</span></span>
<span><span class="va">download_key</span> <span class="op">&lt;-</span> <span class="st">"0007614-251120083545085"</span></span>
<span></span>
<span><span class="co"># Wait for download to complete</span></span>
<span><span class="fu">occ_download_wait</span><span class="op">(</span><span class="va">download_key</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Retrieve and import data</span></span>
<span><span class="va">wama_moko_df</span> <span class="op">&lt;-</span> <span class="fu">occ_download_get</span><span class="op">(</span><span class="va">download_key</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">occ_download_import</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="filtering-and-processing-occurrence-records">Filtering and Processing Occurrence Records<a class="anchor" aria-label="anchor" href="#filtering-and-processing-occurrence-records"></a>
</h3>
<p>For this analysis, we focus on chordate species, which include
vertebrates such as mammals, birds, reptiles, amphibians, and fish. We
filter the downloaded records to this taxonomic group and remove
duplicate records for the same species at identical coordinates, which
often represent repeated sampling events rather than distinct
occurrences.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">species_of_interest</span> <span class="op">&lt;-</span> <span class="va">wama_moko_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">phylum</span> <span class="op">==</span> <span class="st">"Chordata"</span>, <span class="va">species</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">distinct</span><span class="op">(</span><span class="va">species</span>, <span class="va">decimalLongitude</span>, <span class="va">decimalLatitude</span>, .keep_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">species</span>, <span class="va">decimalLongitude</span>, <span class="va">decimalLatitude</span>, <span class="va">year</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View processed data</span></span>
<span><span class="va">species_of_interest</span></span></code></pre></div>
<p>The resulting dataset contains 102 occurrence records representing 62
unique species. We can visualize the temporal distribution of sampling
effort to identify patterns in data collection intensity.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">species_of_interest</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"gray20"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Year"</span>, y <span class="op">=</span> <span class="st">"Number of Records"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_x_continuous</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">2000</span>, <span class="fl">2023</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span></span>
<span>    axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, vjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>    axis.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="GBIF-and-IUCN-Red-List_files/figure-html/temporal-viz-1.png" class="r-plt" alt="Temporal distribution" width="672"></p>
</div>
</div>
<div class="section level2">
<h2 id="retrieving-iucn-red-list-categories">Retrieving IUCN Red List Categories<a class="anchor" aria-label="anchor" href="#retrieving-iucn-red-list-categories"></a>
</h2>
<div class="section level3">
<h3 id="api-configuration">API Configuration<a class="anchor" aria-label="anchor" href="#api-configuration"></a>
</h3>
<p>The <code>redlist</code> package requires an IUCN Red List API token
for authentication. Detailed instructions for obtaining and configuring
your API token are available in the <a href="https://stangandaho.github.io/redlist/articles/get_data.html">package
documentation</a>.</p>
</div>
<div class="section level3">
<h3 id="querying-species-assessments">Querying Species Assessments<a class="anchor" aria-label="anchor" href="#querying-species-assessments"></a>
</h3>
<p>We systematically query the IUCN Red List API for each unique species
in our occurrence dataset. The process includes rate limiting to avoid
overwhelming the API and error handling to manage species that are not
found in the database. For species with multiple assessments, we retain
only the most recent evaluation to reflect current conservation
status.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initialize storage for unfound species</span></span>
<span><span class="va">not_found_sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">avail_sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">species_of_interest</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="co"># Query IUCN status for each species</span></span>
<span><span class="va">genus_species</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">avail_sp</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Display progress</span></span>
<span>  <span class="va">progress</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">avail_sp</span> <span class="op">==</span> <span class="va">x</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">avail_sp</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">progress</span>, <span class="st">"%"</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Rate limiting to respect API constraints</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Sys.sleep.html" class="external-link">Sys.sleep</a></span><span class="op">(</span><span class="fl">0.5</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Parse genus and species names</span></span>
<span>  <span class="va">splited</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"\\s"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span>  </span>
<span>  <span class="co"># Query Red List API with error handling</span></span>
<span>  <span class="va">search_result</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/rl_scientific_name.html">rl_scientific_name</a></span><span class="op">(</span></span>
<span>      genus_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">splited</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>, </span>
<span>      species_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">splited</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu">mutate</span><span class="op">(</span>year_published <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">year_published</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu">slice_max</span><span class="op">(</span><span class="va">year_published</span>, n <span class="op">=</span> <span class="fl">1</span>, with_ties <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">not_found_sp</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;&lt;-</span> <span class="va">x</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">search_result</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compile species with IUCN assessments</span></span>
<span><span class="va">species_with_iucn</span> <span class="op">&lt;-</span> <span class="fu">bind_rows</span><span class="op">(</span><span class="va">genus_species</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="analyzing-conservation-status">Analyzing Conservation Status<a class="anchor" aria-label="anchor" href="#analyzing-conservation-status"></a>
</h3>
<p>Some species may not be found in the IUCN database due to taxonomic
revisions, synonymy issues, or lack of formal assessment. Species
without IUCN status (n =8): <em>Gerbilliscus kempii, Manis tricuspis,
Corvinella corvina, Canis adustus, Phyllastrephus scandens, Psittacula
krameri, Manis gigantea, Chloropicus pyrrhogaster</em>.</p>
<p>The conservation status distribution provides insight into the
vulnerability of the chordate assemblage within Wari-Maro and Monts
Kouffé National Parks. We summarize the frequency of each Red List
category to identify the proportion of threatened species requiring
conservation attention.</p>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table table-striped" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
red_list_category_code
</th>
<th style="text-align:right;">
n
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
LC
</td>
<td style="text-align:right;">
45
</td>
</tr>
<tr>
<td style="text-align:left;">
NT
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
EN
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
DD
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
VU
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The alysis of chordate species in Wari-Maro and Monts Kouffé National
Park revealed 54 species with available IUCN assessments. The majority
(83%) are classified as Least Concern, indicating relatively stable
populations. However, the presence of threatened species warrants
attention: two species are Endangered (<em>Loxodonta africana</em>, and
<em>Terathopius ecaudatus</em>), one is Vulnerable (<em>Panthera
leo</em>), and five are Near Threatened, together representing 15% of
the assessed assemblage. One species remains Data Deficient,
highlighting ongoing knowledge gaps. This distribution suggests that
while the parks harbor predominantly common species, they also provide
critical habitat for species facing elevated extinction risk. It is
important to note that since our data spans from 2000 onwards, some
recorded species may no longer be present in the parks; however, their
historical occurrence indicates that suitable habitat conditions existed
and potentially remain, suggesting these areas could support
recolonization or continued persistence if populations remain
viable.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stanislas Mahussi Gandaho.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
